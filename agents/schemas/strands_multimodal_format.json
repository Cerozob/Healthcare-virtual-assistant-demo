{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://healthcare-agent.com/schemas/strands-multimodal-format.json",
  "title": "Strands Multimodal Format",
  "description": "Internal format used by Strands Agent for multimodal content",
  "type": "array",
  "items": {
    "oneOf": [
      {
        "$ref": "#/$defs/textBlock"
      },
      {
        "$ref": "#/$defs/imageBlock"
      },
      {
        "$ref": "#/$defs/documentBlock"
      }
    ]
  },
  "$defs": {
    "textBlock": {
      "type": "object",
      "required": ["text"],
      "properties": {
        "text": {
          "type": "string",
          "description": "Text content"
        }
      },
      "additionalProperties": false
    },
    "imageBlock": {
      "type": "object",
      "required": ["image"],
      "properties": {
        "image": {
          "type": "object",
          "required": ["format", "source"],
          "properties": {
            "format": {
              "type": "string",
              "enum": ["jpeg", "jpg", "png", "gif"],
              "description": "Image format"
            },
            "source": {
              "type": "object",
              "required": ["bytes"],
              "properties": {
                "bytes": {
                  "description": "Raw image bytes (not base64 encoded)",
                  "type": "string",
                  "contentEncoding": "binary"
                }
              },
              "additionalProperties": false
            }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    },
    "documentBlock": {
      "type": "object",
      "required": ["document"],
      "properties": {
        "document": {
          "type": "object",
          "required": ["format", "name", "source"],
          "properties": {
            "format": {
              "type": "string",
              "enum": ["txt", "pdf", "docx", "md"],
              "description": "Document format"
            },
            "name": {
              "type": "string",
              "description": "Document name/filename"
            },
            "source": {
              "type": "object",
              "required": ["bytes"],
              "properties": {
                "bytes": {
                  "description": "Raw document bytes (not base64 encoded)",
                  "type": "string",
                  "contentEncoding": "binary"
                }
              },
              "additionalProperties": false
            }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    }
  }
}
